@model TicketPlace2._0.Models.EspaceModel

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div class="container">
    <h4>EspaceModel</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.Nom)</dt>
        <dd class="col-sm-10">@Html.DisplayFor(model => model.Nom)</dd>

        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.Adresse)</dt>
        <dd class="col-sm-10">@Html.DisplayFor(model => model.Adresse)</dd>

        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.Ville)</dt>
        <dd class="col-sm-10">@Html.DisplayFor(model => model.Ville)</dd>

        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.CodePostal)</dt>
        <dd class="col-sm-10">@Html.DisplayFor(model => model.CodePostal)</dd>

        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.Capacite)</dt>
        <dd class="col-sm-10">@Html.DisplayFor(model => model.Capacite)</dd>

        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.OnCreate)</dt>
        <dd class="col-sm-10">@Html.DisplayFor(model => model.OnCreate)</dd>

        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.OnUpdate)</dt>
        <dd class="col-sm-10">@Html.DisplayFor(model => model.OnUpdate)</dd>
    </dl>

    <div id="chair-plan"></div>

    <div class="mt-3">
        <a asp-action="Edit" asp-route-id="@Model?.Id" class="btn btn-primary">Edit</a>
        <a asp-action="Index" class="btn btn-secondary">Back to List</a>
    </div>
</div>

@section Scripts {
    <script>
        (function() {
            const capacity = @Model.Capacite;
            const chairPlan = document.getElementById('chair-plan');
            const Longueur = @Model.Longueur;
            const Largeur = @Model.Largeur;
            chairPlan.style.display = 'grid';
            chairPlan.style.gridTemplateColumns = `repeat(${Longueur}, 1fr)`; 
            chairPlan.style.gap = '10px';
            chairPlan.style.width = '500px';
            chairPlan.style.margin = '20px auto';
            chairPlan.style.padding = '20px';
            function generateChairs(numSeats) {
                for (let i = 1; i <= numSeats; i++) {
                    const chair = document.createElement('div');
                    chair.classList.add('chair', 'd-flex', 'align-items-center', 'justify-content-center', 'bg-primary', 'text-white', 'font-weight-bold', 'm-1');
                    chair.style.width = '40px';
                    chair.style.height = '40px';
                    chair.textContent = i;
                    chairPlan.appendChild(chair);
                }
            }
            generateChairs(capacity);
        })();
    </script>
}
